---
import { getSiteConfig } from '../lib/sanity-utils';

let siteTitle = 'Cafe Reviews';
let logoUrl = '';

try {
  const siteConfig = await getSiteConfig();
  if (siteConfig) {
    siteTitle = siteConfig.title || siteTitle;
    // Note: Add logo field to Sanity siteConfig schema if needed
  }
} catch (error) {
  console.error('Failed to load site config for header:', error);
}
---

<header>
	<nav>
		<div class="brand">
			<a href="/">
				{logoUrl && (
					<img src={logoUrl} alt={siteTitle} class="logo" />
				)}
				<span class="site-title">{siteTitle}</span>
			</a>
		</div>
	</nav>
</header>
<style>
	header {
		position: fixed;
		top: 0;
		left: 0;
		right: 0;
		z-index: 1000;
		padding: 1rem 2rem;
		background: transparent;
		box-shadow: none;
	}

	nav {
		display: flex;
		align-items: center;
		justify-content: flex-start;
	}

	.brand {
		display: flex;
		align-items: center;
	}

	.brand a {
		display: flex;
		align-items: center;
		gap: 0.8rem;
		text-decoration: none;
		color: var(--paper-beige);
		font-weight: 600;
		transition: all 0.3s ease;
	}

	.brand a:hover {
		opacity: 0.8;
	}

	.logo {
		height: 40px;
		width: auto;
		object-fit: contain;
	}

	.site-title {
		font-size: 1.4rem;
		font-weight: 700;
		text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
	}

	/* Responsive design */
	@media (max-width: 768px) {
		header {
			padding: 1rem;
		}

		.logo {
			height: 32px;
		}

		.site-title {
			font-size: 1.2rem;
		}
	}
</style>
